# Minimal auto-detection configuration
# Let nixpacks auto-detect everything to avoid conflicts

[phases.build]
cmds = [
    "npm ci",
    "npm run build",
    "php artisan migrate --force",
    "php artisan config:cache",
    "php artisan route:cache"
]

[variables]
APP_ENV = "production"
APP_DEBUG = "false"
APP_URL = "https://pura-vida-rides-production.up.railway.app"
ASSET_URL = "https://pura-vida-rides-production.up.railway.app"
APP_KEY = "base64:q2Hze5dfTzap+gT74GvoVypFt8MQD+UAxUd3CHq0bDA="
DB_CONNECTION = "sqlite"
DB_DATABASE = "/app/database/database.sqlite"
SESSION_DRIVER = "file"
CACHE_STORE = "file"
QUEUE_CONNECTION = "sync"

[start]
cmd = "php artisan serve --host=0.0.0.0 --port=$PORT"
